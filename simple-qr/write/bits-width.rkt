#lang racket

(provide (contract-out
     [get-bits-width (-> natural? (or/c 'L 'M 'Q 'H) natural?)]
     ))

(define (get-bits-width version error_level)
  (hash-ref *required_bits_table* (format "~a-~a" version error_level)))

(define *required_bits_table*
  '#hash(
         ("1-L" . 19)
         ("1-M" . 16)
         ("1-Q" . 13)
         ("1-H" . 9)
         ("2-L" . 34)
         ("2-M" . 28)
         ("2-Q" . 22)
         ("2-H" . 16)
         ("3-L" . 55)
         ("3-M" . 44)
         ("3-Q" . 34)
         ("3-H" . 26)
         ("4-L" . 80)
         ("4-M" . 64)
         ("4-Q" . 48)
         ("4-H" . 36)
         ("5-L" . 108)
         ("5-M" . 86)
         ("5-Q" . 62)
         ("5-H" . 46)
         ("6-L" . 136)
         ("6-M" . 108)
         ("6-Q" . 76)
         ("6-H" . 60)
         ("7-L" . 156)
         ("7-M" . 124)
         ("7-Q" . 88)
         ("7-H" . 66)
         ("8-L" . 194)
         ("8-M" . 154)
         ("8-Q" . 110)
         ("8-H" . 86)
         ("9-L" . 232)
         ("9-M" . 182)
         ("9-Q" . 132)
         ("9-H" . 100)
         ("10-L" . 274)
         ("10-M" . 216)
         ("10-Q" . 154)
         ("10-H" . 122)
         ("11-L" . 324)
         ("11-M" . 254)
         ("11-Q" . 180)
         ("11-H" . 140)
         ("12-L" . 370)
         ("12-M" . 290)
         ("12-Q" . 206)
         ("12-H" . 158)
         ("13-L" . 428)
         ("13-M" . 334)
         ("13-Q" . 244)
         ("13-H" . 180)
         ("14-L" . 461)
         ("14-M" . 365)
         ("14-Q" . 261)
         ("14-H" . 197)
         ("15-L" . 523)
         ("15-M" . 415)
         ("15-Q" . 295)
         ("15-H" . 223)
         ("16-L" . 589)
         ("16-M" . 453)
         ("16-Q" . 325)
         ("16-H" . 253)
         ("17-L" . 647)
         ("17-M" . 507)
         ("17-Q" . 367)
         ("17-H" . 283)
         ("18-L" . 721)
         ("18-M" . 563)
         ("18-Q" . 397)
         ("18-H" . 313)
         ("19-L" . 795)
         ("19-M" . 627)
         ("19-Q" . 445)
         ("19-H" . 341)
         ("20-L" . 861)
         ("20-M" . 669)
         ("20-Q" . 485)
         ("20-H" . 385)
         ("21-L" . 932)
         ("21-M" . 714)
         ("21-Q" . 512)
         ("21-H" . 406)
         ("22-L" . 1006)
         ("22-M" . 782)
         ("22-Q" . 568)
         ("22-H" . 442)
         ("23-L" . 1094)
         ("23-M" . 860)
         ("23-Q" . 614)
         ("23-H" . 464)
         ("24-L" . 1174)
         ("24-M" . 914)
         ("24-Q" . 664)
         ("24-H" . 514)
         ("25-L" . 1276)
         ("25-M" . 1000)
         ("25-Q" . 718)
         ("25-H" . 538)
         ("26-L" . 1370)
         ("26-M" . 1062)
         ("26-Q" . 754)
         ("26-H" . 596)
         ("27-L" . 1468)
         ("27-M" . 1128)
         ("27-Q" . 808)
         ("27-H" . 628)
         ("28-L" . 1531)
         ("28-M" . 1193)
         ("28-Q" . 871)
         ("28-H" . 661)
         ("29-L" . 1631)
         ("29-M" . 1267)
         ("29-Q" . 911)
         ("29-H" . 701)
         ("30-L" . 1735)
         ("30-M" . 1373)
         ("30-Q" . 985)
         ("30-H" . 745)
         ("31-L" . 1843)
         ("31-M" . 1455)
         ("31-Q" . 1033)
         ("31-H" . 793)
         ("32-L" . 1955)
         ("32-M" . 1541)
         ("32-Q" . 1115)
         ("32-H" . 845)
         ("33-L" . 2071)
         ("33-M" . 1631)
         ("33-Q" . 1171)
         ("33-H" . 901)
         ("34-L" . 2191)
         ("34-M" . 1725)
         ("34-Q" . 1231)
         ("34-H" . 961)
         ("35-L" . 2306)
         ("35-M" . 1812)
         ("35-Q" . 1286)
         ("35-H" . 986)
         ("36-L" . 2434)
         ("36-M" . 1914)
         ("36-Q" . 1354)
         ("36-H" . 1054)
         ("37-L" . 2566)
         ("37-M" . 1992)
         ("37-Q" . 1426)
         ("37-H" . 1096)
         ("38-L" . 2702)
         ("38-M" . 2102)
         ("38-Q" . 1502)
         ("38-H" . 1142)
         ("39-L" . 2812)
         ("39-M" . 2216)
         ("39-Q" . 1582)
         ("39-H" . 1222)
         ("40-L" . 2956)
         ("40-M" . 2334)
         ("40-Q" . 1666)
         ("40-H" . 1276)
         ))
